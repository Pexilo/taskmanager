<ion-item>
  <ion-label>
    <h2>{{ task.title }}</h2>
    <p>
      {{ task.status }} ·
      <span
        [style.color]="getDaysRemaining(task.endDate) === 'Expiré' ? 'red' : 'inherit'"
        style="margin-top: 5px"
      >
        {{ getDaysRemaining(task.endDate) }} @if (typeof
        getDaysRemaining(task.endDate) === 'number') {
        <ng-container>j restant(s)</ng-container>
        }
      </span>
    </p>
    <ion-badge
      [style.background]="getCategoryColor(task.category)"
      style="margin-top: 5px; margin-right: 10px"
    >
      {{ task.category }}
    </ion-badge>
    <ion-badge [style.background]="getStatusEmoji(task.status).color">
      {{ getStatusEmoji(task.status).emoji }} {{ task.status }}
    </ion-badge>
  </ion-label>

  @if(!task.archived) {
  <ion-button fill="clear" color="success" (click)="updateStatus('Terminé')">
    <ion-icon name="checkmark"></ion-icon>
  </ion-button>

  <ion-button fill="clear" color="info" (click)="updateStatus('En cours')">
    <ion-icon name="refresh"></ion-icon>
  </ion-button>

  <ion-button fill="clear" color="warning" (click)="archiveTask()">
    <ion-icon name="archive"></ion-icon> </ion-button
  >}
</ion-item>
